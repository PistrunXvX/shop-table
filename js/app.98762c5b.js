(function(){"use strict";var t={8563:function(t,l,e){var a=e(9242),o=e(3396),n=e(7139),s=e(2226);const r={class:"container-fluid"},i={class:"navbar navbar-light bg-light"},d=(0,o._)("h1",null,"ShopTable",-1),c={class:"navbar-text"},u={for:"dollar",class:"form-label"},m=(0,o._)("div",{id:"dollarHelp",class:"form-text"},"Крутите рубль как хотите! ",-1),p=(0,o._)("div",{class:"d-flex"},[(0,o._)("button",{type:"button",class:"btn btn-light","data-bs-toggle":"modal","data-bs-target":"#Modal"},[(0,o._)("img",{"data-bs-toggle":"modal","data-bs-target":"#Modal",src:s,alt:"",width:"50",height:"50",class:"d-inline-block align-text-top"})])],-1),b={class:"modal fade",id:"Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true"},h={class:"modal-dialog"},f={class:"modal-content"},g=(0,o._)("div",{class:"modal-header"},[(0,o._)("h5",{class:"modal-title",id:"ModalLabel"},"Корзина"),(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),v={class:"modal-body"},T={class:"table table-hover"},_=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},[(0,o._)("small",null,"Наименование товара и описание")]),(0,o._)("th",{scope:"col"},[(0,o._)("small",null,"Количество")]),(0,o._)("th",{scope:"col"},[(0,o._)("small",null,"Цена")]),(0,o._)("th")])],-1),C={class:"container"},N={class:"row"};function w(t,l,e,s,w,I){const y=(0,o.up)("AddItem"),P=(0,o.up)("TableShop");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",r,[(0,o._)("nav",i,[d,(0,o._)("span",c,[(0,o._)("label",u,"Ваш курс доллара "+(0,n.zw)(w.dollar),1),(0,o.wy)((0,o._)("input",{type:"number",class:"form-control",id:"dollar","aria-describedby":"dollarHelp",min:"100",max:"200","onUpdate:modelValue":l[0]||(l[0]=t=>w.dollar=t)},null,512),[[a.nr,w.dollar]]),m]),p]),(0,o._)("div",b,[(0,o._)("div",h,[(0,o._)("div",f,[g,(0,o._)("div",v,[(0,o._)("table",T,[_,(0,o._)("tbody",null,[(0,o.Wm)(y,{dataNames:w.itemsName,dataPrice:w.itemsPrice,countItems:w.countItems},null,8,["dataNames","dataPrice","countItems"])])])])])])])]),(0,o._)("div",C,[(0,o._)("div",N,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.goodsItems,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"col-12 col-md-6",key:t},[(0,o.Wm)(P,{groups:t.G,id:w.count++,dollar:w.dollar,onAddItem:I.addItemToCard},null,8,["groups","id","dollar","onAddItem"])])))),128))])])],64)}const I=["id"],y={class:"accordion-item"},P=["id"],G=["data-bs-target","aria-controls"],D=["id","aria-labelledby","data-bs-parent"],k={class:"accordion-body"};function B(t,l,e,a,s,r){const i=(0,o.up)("ShopItem");return(0,o.wg)(),(0,o.iD)("div",{class:"accordion",id:"accordionShop"+e.id},[(0,o._)("div",y,[(0,o._)("h2",{class:"accordion-header",id:"heading"+e.id},[(0,o._)("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+e.id,"aria-expanded":"true","aria-controls":"collapse"+e.id},(0,n.zw)(e.groups),9,G)],8,P),(0,o._)("div",{id:"collapse"+e.id,class:"accordion-collapse collapse","aria-labelledby":"heading"+e.id,"data-bs-parent":"#accordionShop"+e.id},[(0,o._)("div",k,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.goodsItems,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t.G},[t.G==e.groups?((0,o.wg)(),(0,o.j4)(i,{key:0,data:t.B,dollar:e.dollar,onAddItem:r.addItem},null,8,["data","dollar","onAddItem"])):(0,o.kq)("",!0)])))),128))])],8,D)])],8,I)}const M={class:"container"},S={class:"col-6"},V={class:"list-inline"},x={class:"list-inline-item"},O={class:"list-inline-item"},H={class:"col-3"},A={class:"col-3"},z=["onClick"],Y={key:1,type:"button",class:"btn btn-sm btn-outline-primary",disabled:""};function j(t,l,e,a,s,r){return(0,o.wg)(),(0,o.iD)("div",M,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.data,((t,l)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.shopItems,(a=>((0,o.wg)(),(0,o.iD)("div",{key:a.Goods},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.Goods,(a=>((0,o.wg)(),(0,o.iD)("div",{key:a},[l==a.T?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,n.C_)(["row",r.changeBg])},[(0,o._)("div",S,[(0,o._)("ul",V,[(0,o._)("li",x,[(0,o._)("strong",{class:(0,n.C_)("name-product-"+a.T)},(0,n.zw)(t.N),3)]),(0,o._)("li",O,[(0,o._)("small",null,"Количество: "+(0,n.zw)(a.P),1)])])]),(0,o._)("div",H,[(0,o._)("strong",{class:(0,n.C_)("price-product-"+a.T)},"Цена: "+(0,n.zw)(Math.round(a.C*e.dollar))+"₽",3)]),(0,o._)("div",A,[a.P>0?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t=>r.addItemCard(a.T),type:"button",class:"btn btn-sm btn-outline-primary"}," В корзину ",8,z)):((0,o.wg)(),(0,o.iD)("button",Y," В корзину "))])],2)):(0,o.kq)("",!0)])))),128))])))),128))])))),128))])}var K=JSON.parse('{"Error":"","Id":0,"Success":true,"Value":{"Goods":[{"B":false,"C":158,"CV":null,"G":1,"P":1,"Pl":null,"T":1},{"B":false,"C":197,"CV":null,"G":1,"P":99,"Pl":null,"T":2},{"B":false,"C":18,"CV":null,"G":1,"P":31,"Pl":null,"T":3},{"B":false,"C":2.14,"CV":null,"G":2,"P":15,"Pl":null,"T":8},{"B":false,"C":1.52,"CV":null,"G":2,"P":76,"Pl":null,"T":86},{"B":false,"C":5.5,"CV":null,"G":2,"P":100,"Pl":null,"T":126},{"B":false,"C":2.71,"CV":null,"G":5,"P":51,"Pl":null,"T":184},{"B":false,"C":3.95,"CV":null,"G":5,"P":2,"Pl":null,"T":185},{"B":false,"C":1.22,"CV":null,"G":10,"P":51,"Pl":null,"T":194},{"B":false,"C":1.18,"CV":null,"G":15,"P":55,"Pl":null,"T":12},{"B":false,"C":1.55,"CV":null,"G":15,"P":64,"Pl":null,"T":63},{"B":false,"C":1.55,"CV":null,"G":15,"P":77,"Pl":null,"T":64}]}}'),q=JSON.parse('{"1":{"G":"Книги","B":{"1":{"N":"Алгоритмы. Построение и анализ. Т. Кормен, Ч. Лейзерсон, Р. Ривест, К. Штайн.","T":1},"2":{"N":"Совершенный код. Стив Макконнелл.","T":1},"3":{"N":"JavaScript. Подробное руководство. Дэвид Флэнаган.","T":1}}},"2":{"G":"Еда","C":2,"B":{"7":{"N":"Овсяные пирожные с шоколадной прослойкой","T":3},"8":{"N":"Суп с пекинской капустой","T":3},"85":{"N":"Вишня в коньяке","T":3},"86":{"N":"Постный фаршированный перец","T":3},"109":{"N":"Салат Подсолнух","T":""},"110":{"N":"Форель «Эрланген»","T":""},"111":{"N":"Салат с морепродуктами","T":3},"112":{"N":"Тёртый пирог","T":3},"115":{"N":"Свинина, маринованная в красном вине, с кориандром","T":""},"116":{"N":"Салат с черносливом и ветчиной","T":""},"125":{"N":"Болгарский перец и цуккини на гриле","T":3},"126":{"N":"Салат «Букет нарциссов»","T":3},"127":{"N":"Салат из морепродуктов, с огурцами, рукколой и оливками","T":3}}},"5":{"G":"Спорт","C":2,"B":{"184":{"N":"Беговая дорожка","T":1},"185":{"N":"Гантели съемные","T":1},"186":{"N":"Ружьё охотничье","T":1},"187":{"N":"Велотренажер","T":1}}},"8":{"G":"Сантехника","C":3,"B":{"4":{"N":"Акриловая ванна Alpen Mars ","T":1},"5":{"N":"Смеситель Sturm Classica","T":1},"6":{"N":"Тумба с раковиной Tiffany World ","T":1}}},"10":{"G":"Запчасти для машин","C":3,"B":{"191":{"N":"Амортизатор задний CX-5 ","T":3},"192":{"N":"Пружина амортизатора ","T":3},"193":{"N":"Корпус воздушного фильтра ","T":3},"194":{"N":"Ремень приводной","T":3},"195":{"N":"Диффузор радиатора","T":1},"196":{"N":"Фильтр АКПП","T":3}}},"15":{"G":"Сувениры","C":2,"B":{"11":{"N":"Набор для рисования Пастель","T":3},"12":{"N":"Брелок-рулетка","T":3},"63":{"N":"Брелок-открывалка","T":3},"64":{"N":"Ручка-стилус шариковая","T":3},"146":{"N":"Браслет","T":3},"147":{"N":"Чехол для очков","T":3},"148":{"N":"Сумка для выставок","T":3}}}}'),L={data(){return{shopItems:K,goodsItems:q,lastDollar:this.dollar}},props:["data","dollar"],methods:{addItemCard(t){let l=new Map([["name","name"],["price",0]]),e=document.querySelector(".name-product-"+t).innerHTML,a=Number(document.querySelector(".price-product-"+t).innerHTML.replace(/[^0-9,\s]/g,""));return l.set("name",e),l.set("price",a),this.$emit("addItem",l)}},computed:{changeBg(){return this.dollar==this.lastDollar?"default":this.dollar>this.lastDollar?"bg-red":"bg-green"}}},Z=e(89);const J=(0,Z.Z)(L,[["render",j],["__scopeId","data-v-d831eb00"]]);var W=J,E={data(){return{shopItems:K,goodsItems:q}},props:["groups","id","G","dollar"],components:{ShopItem:W},methods:{addItem(t){return this.$emit("addItem",t)}}};const $=(0,Z.Z)(E,[["render",B]]);var F=$;const U={scope:"col"},X=(0,o._)("th",null,"1",-1),Q={class:"price"},R=["onClick"],tt={class:"d-flex"};function lt(t,l,e,a,s,r){return(0,o.wg)(),(0,o.iD)(o.HY,null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.countItems,((t,l)=>((0,o.wg)(),(0,o.iD)("tr",{key:l,class:(0,n.C_)("item-"+l)},[(0,o._)("th",U,(0,n.zw)(e.dataNames.get("name"+l)),1),X,(0,o._)("th",Q,(0,n.zw)(e.dataPrice.get("price"+l))+"₽",1),(0,o._)("th",null,[(0,o._)("button",{onClick:t=>r.deletItem(l),type:"button",class:"btn btn-sm btn-outline-danger"}," Удалить ",8,R)])],2)))),128)),(0,o._)("div",tt," Итоговая сумма: "+(0,n.zw)(r.sumAllPosition)+"₽ ",1)],64)}var et={data(){return{sum:0}},props:["dataNames","dataPrice","countItems"],methods:{deletItem(t,l){let e=document.querySelector(".item-"+t);this.dataPrice.delete("price"+t),console.log(l),e.remove()}},computed:{sumAllPosition(){this.sum=0;for(let t of this.dataPrice.values())this.sum+=t;return this.sum}}};const at=(0,Z.Z)(et,[["render",lt]]);var ot=at,nt={components:{TableShop:F,AddItem:ot},data(){return{shopItems:K,goodsItems:q,count:0,dollar:150,itemsName:new Map([]),itemsPrice:new Map([]),priceItem:0,nameItem:"",countItems:0}},mounted:function(){this.updateDollar()},methods:{addItemToCard(t){this.itemsName.set("name"+this.countItems,t.get("name")),this.itemsPrice.set("price"+this.countItems,t.get("price")),this.countItems++},updateDollar(){setInterval(function(){this.dollar=Math.floor(101*Math.random())+100}.bind(this),15e3)}}};const st=(0,Z.Z)(nt,[["render",w]]);var rt=st;(0,a.ri)(rt).mount("#app")},2226:function(t,l,e){t.exports=e.p+"img/cart.94211fdc.svg"}},l={};function e(a){var o=l[a];if(void 0!==o)return o.exports;var n=l[a]={exports:{}};return t[a](n,n.exports,e),n.exports}e.m=t,function(){var t=[];e.O=function(l,a,o,n){if(!a){var s=1/0;for(c=0;c<t.length;c++){a=t[c][0],o=t[c][1],n=t[c][2];for(var r=!0,i=0;i<a.length;i++)(!1&n||s>=n)&&Object.keys(e.O).every((function(t){return e.O[t](a[i])}))?a.splice(i--,1):(r=!1,n<s&&(s=n));if(r){t.splice(c--,1);var d=o();void 0!==d&&(l=d)}}return l}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[a,o,n]}}(),function(){e.n=function(t){var l=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(l,{a:l}),l}}(),function(){e.d=function(t,l){for(var a in l)e.o(l,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:l[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)}}(),function(){e.p="/shop-table/"}(),function(){var t={143:0};e.O.j=function(l){return 0===t[l]};var l=function(l,a){var o,n,s=a[0],r=a[1],i=a[2],d=0;if(s.some((function(l){return 0!==t[l]}))){for(o in r)e.o(r,o)&&(e.m[o]=r[o]);if(i)var c=i(e)}for(l&&l(a);d<s.length;d++)n=s[d],e.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return e.O(c)},a=self["webpackChunkshop_table"]=self["webpackChunkshop_table"]||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(8563)}));a=e.O(a)})();
//# sourceMappingURL=app.98762c5b.js.map